Handlebars.logger.log=function(a){console.log.apply(console,[].concat(["Handlebars: "],a))},Handlebars.registerHelper("log",Handlebars.logger.log),function(a){return _.extend(a.Marionette.Application.prototype,{navigate:function(b,c){return a.history.navigate(b,c)},getCurrentRoute:function(){return a.history.fragment}})}(Backbone),Backbone.Marionette.Renderer.render=function(a,b){if(!JST[a])throw"Template '"+a+"' not found!";return JST[a](b)},function(){this.Lacquer=function(a,b){var c=new b.Application;return c.mainRoute="users",c.on("initialize:before",function(a){this.currentUser=c.request("set:current:user",a.currentUser)}),c.reqres.setHandler("get:current:user",function(){return c.currentUser}),c.addRegions({headerRegion:"#header-region",mainRegion:"#main-region",footerRegion:"#footer-region"}),c.addInitializer(function(){c.module("FooterApp").start(),c.module("HeaderApp").start()}),c.on("initialize:after",function(){a.history&&(a.history.start(),""===this.getCurrentRoute()&&this.navigate(this.mainRoute,{trigger:!0}))}),c.on("all",function(){console.log(arguments)}),c}(Backbone,Marionette)}.call(window),Lacquer.module("Entities",function(a,b,c){a.Collection=c.Collection.extend({})}),Lacquer.module("Entities",function(a,b,c){a.Model=c.Model.extend({})}),Lacquer.module("Entities",function(a,b){a.Header=a.Model.extend({}),a.HeaderCollection=a.Collection.extend({model:a.Header});var c={getHeaders:function(){return new a.HeaderCollection([{name:"Users",url:"#users"},{name:"Leads",url:"#leads"},{name:"Appointments",url:"#appointments"}])}};b.reqres.setHandler("header:entities",function(){return c.getHeaders()})}),Lacquer.module("Entities",function(a,b){a.User=a.Model.extend({}),a.UserCollection=a.Collection.extend({url:"/api/v1/users",model:a.User});var c={setCurrentUser:function(b){return new a.User(b)},getUsers:function(){var b=new a.UserCollection;return b.fetch(),b}};b.reqres.setHandler("set:current:user",function(a){return c.setCurrentUser(a)}),b.reqres.setHandler("user:entities",function(){return c.getUsers()})}),Lacquer.module("Views",function(a,b,c,d){a.CollectionView=d.CollectionView.extend({itemViewEventPrefix:"childview"})}),Lacquer.module("Views",function(a,b,c,d){a.CompositeView=d.CompositeView.extend({})}),Lacquer.module("Views",function(a,b,c,d){a.ItemView=d.ItemView.extend({})}),Lacquer.module("Views",function(a,b,c,d){a.Layout=d.Layout.extend({})}),Lacquer.module("Views",function(a,b,c,d,e,f){return f.extend(d.View.prototype,{templateHelpers:function(){return{currentUser:b.request("get:current:user").toJSON(),linkTo:function(a,b){return console.log.apply(console,arguments),f.template('<a href="<%= url %>"><%= name %></a>',{url:a,name:b})}}}})}),Lacquer.module("FooterApp",function(a){this.startWithParent=!1;var b={showFooter:function(){a.Show.Controller.showFooter()}};a.on("start",function(){b.showFooter()})}),Lacquer.module("FooterApp.Show",function(a,b){a.Controller={showFooter:function(){var a=this.getFooterView();b.footerRegion.show(a)},getFooterView:function(){return new a.Footer}}}),Lacquer.module("FooterApp.Show",function(a,b){a.Footer=b.Views.ItemView.extend({template:"footer/show/templates/show_footer",modelEvents:{change:"render"}})}),Lacquer.module("HeaderApp",function(a){this.startWithParent=!1;var b={listHeader:function(){a.List.Controller.listHeader()}};a.on("start",function(){b.listHeader()})}),Lacquer.module("HeaderApp.List",function(a,b){a.Controller={listHeader:function(){var a=b.request("header:entities"),c=this.getHeaderView(a);b.headerRegion.show(c)},getHeaderView:function(b){return new a.Headers({collection:b})}}}),Lacquer.module("HeaderApp.List",function(a,b){a.Header=b.Views.ItemView.extend({template:"header/list/templates/header",tagName:"li"}),a.Headers=b.Views.CompositeView.extend({template:"header/list/templates/headers",itemView:a.Header,itemViewContainer:"ul"})}),Lacquer.module("LeadsApp",function(a,b,c,d){a.Router=d.AppRouter.extend({appRoutes:{leads:"listLeads"}});var e={listLeads:function(){a.List.Controller.listLeads()}};b.addInitializer(function(){new a.Router({controller:e})})}),Lacquer.module("LeadsApp.List",function(a,b){a.Controller={listLeads:function(){var a=this.getLeadsView();b.mainRegion.show(a)},getLeadsView:function(){return new a.Leads}}}),Lacquer.module("LeadsApp.List",function(a,b){a.Leads=b.Views.ItemView.extend({template:"leads/list/templates/list_leads"})}),Lacquer.module("UsersApp.List",function(a,b){a.Controller={listUsers:function(){var a=this,c=b.request("user:entities");c.on("all",function(a){console.log(a)}),this.layout=this.getLayout(),this.layout.on("show",function(){a.showPanel(c),a.showUsers(c)}),b.mainRegion.show(this.layout)},getLayout:function(){return new a.Layout},showPanel:function(a){var b=this.getPanelView(a);this.layout.panelRegion.show(b)},showUsers:function(a){var b=this.getUsersView(a);this.layout.usersRegion.show(b)},getPanelView:function(b){return new a.Panel({collection:b})},getUsersView:function(b){return new a.Users({collection:b})}}}),Lacquer.module("UsersApp.List",function(a,b,c,d){a.Layout=b.Views.Layout.extend({template:"user/list/templates/list_layout",regions:{panelRegion:"#panel-region",usersRegion:"#users-region"}}),a.Panel=d.ItemView.extend({template:"user/list/templates/panel",collectionEvents:{sync:"render"}}),a.User=b.Views.ItemView.extend({template:"user/list/templates/user",tagName:"tr"}),a.Empty=b.Views.ItemView.extend({template:"user/list/templates/empty_user",tagName:"tr"}),a.Users=b.Views.CompositeView.extend({template:"user/list/templates/users",itemView:a.User,emptyView:a.Empty,itemViewContainer:"tbody"})}),Lacquer.module("UsersApp",function(a,b,c,d){a.Router=d.AppRouter.extend({appRoutes:{users:"listUsers"}});var e={listUsers:function(){a.List.Controller.listUsers()}};b.addInitializer(function(){new a.Router({controller:e})})});